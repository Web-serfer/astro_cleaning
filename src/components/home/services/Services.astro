---
import { Icon } from 'astro-icon/components';
import { servicesData } from './servicesData';
import ServiceCard from './ServiceCard.astro';

interface Service {
    title: string;
    description: string;
    buttonText: string;
    href: string;
    iconType: 'arrow' | 'external';
    promoTag?: string;
    details?: string[];
}
---

<section class="section section-gap bg-services">
    <div class="container">
        <!-- Заголовок секции -->
        <div class="max-w-3xl">
            <div class="flex justify-between items-center mb-md">
                <div class="flex items-center">
                    <div class="w-4 h-4 bg-[var(--accent-hero-card)] rounded-md mr-2"></div>
                    <p class="text-sm font-bold uppercase tracking-wider text-zinc-500">
                        SERVICES
                    </p>
                </div>
                <a
                        href="/services"
                        class="flex items-center gap-2 text-teal-600 font-semibold hover:underline"
                >
                    ALL SERVICES
                    <Icon name="externalLink" class="w-5 h-5" />
                </a>
            </div>
            <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-zinc-900 mb-md text-center md:text-left">
                Explore Our Cleaning Services
            </h2>
            <p class="text-base sm:text-lg text-zinc-600 text-center md:text-left">
                Lorem ipsum dolor sit amet consectetur. Turpis pellentesque pellentesque tristique condimentum nulla eget. Tincidunt et vel ultrices egestas viverra consequat neque aliquet vulputate.
            </p>
        </div>

        <!-- Контейнер для карточек с фиксом дергания -->
        <div class="mt-xl relative" id="services-container">
            <div class="flex flex-col md:flex-row gap-8 w-full relative" id="services-flex-container">
                {servicesData.map((service, index) => (
                        <div
                            class="service-card-wrapper group relative flex-1 min-w-[240px] transition-all duration-500 ease-out"
                            style="flex: 1 1 0%;"
                        >
                            <ServiceCard
                                title={service.title}
                                description={service.description}
                                buttonText={service.buttonText}
                                href={service.href}
                                iconType={service.iconType}
                                promoTag={service.promoTag}
                                details={service.details}
                            />
                        </div>
                ))}
            </div>
        </div>
    </div>
</section>

<style>
    .service-card-wrapper {
        transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .service-card-wrapper:hover {
        transform: scale(1.05) translateY(-4px);
        z-index: 10;
        position: relative;
    }

    #services-flex-container {
        min-height: 400px;
    }
</style>